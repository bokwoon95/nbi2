(()=>{(()=>{let o={},t=null,s=(n,i,r)=>{o[n]={selector:i,init:r}},a=(n,i)=>{let r=o[i];if(r)try{r.init(n)}catch(l){console.error(`Failed to initialize ${i}:`,l)}},u=()=>{Object.entries(o).forEach(([n,{selector:i,init:r}])=>{document.querySelectorAll(i).forEach(r)})},m=n=>{n.nodeType===Node.ELEMENT_NODE&&Object.entries(o).forEach(([i,{selector:r,init:l}])=>{n.matches(r)&&l(n),n.querySelectorAll(r).forEach(l)})},p=()=>{t||(t=new MutationObserver(n=>{n.forEach(i=>{i.addedNodes.forEach(m)})}),t.observe(document.body,{childList:!0,subtree:!0}))},v=()=>{t&&(t.disconnect(),t=null)},b=n=>{let i=o[n];if(!i){console.warn(`Component '${n}' not found in registry`);return}let r=`data-${n}-initialized`;document.querySelectorAll(`[${r}]`).forEach(l=>{l.removeAttribute(r)}),document.querySelectorAll(i.selector).forEach(i.init)},y=()=>{Object.entries(o).forEach(([n,{selector:i}])=>{let r=`data-${n}-initialized`;document.querySelectorAll(`[${r}]`).forEach(l=>{l.removeAttribute(r)})}),u()};window.basecoat={register:s,init:b,initAll:y,start:p,stop:v},document.addEventListener("DOMContentLoaded",()=>{u(),p()})})();(()=>{let o=t=>{let s=t.querySelector(":scope > button"),a=t.querySelector(":scope > [data-popover]"),u=a.querySelector('[role="menu"]'),m=typeof a.showPopover=="function"&&typeof a.hidePopover=="function";m&&(a.setAttribute("popover","manual"),a.style.position="fixed",a.style.inset="auto",a.style.transform="none");let p=0,v=()=>{if(!m||s.getAttribute("aria-expanded")!=="true")return;let e=s.getBoundingClientRect(),c=e.left,d=e.bottom,w=document.documentElement.clientWidth,A=document.documentElement.clientHeight,L=a.offsetWidth,g=a.offsetHeight;c+L>w-8&&(c=Math.max(8,w-L-8)),c<8&&(c=8),d+g>A-8&&e.top-g>=8&&(d=e.top-g),d+g>A-8&&(d=Math.max(8,A-g-8)),d<8&&(d=8),a.style.left=`${Math.round(c)}px`,a.style.top=`${Math.round(d)}px`},b=()=>{if(!m)return;cancelAnimationFrame(p);let e=()=>{s.getAttribute("aria-expanded")==="true"&&(v(),p=requestAnimationFrame(e))};e()},y=()=>{m&&(cancelAnimationFrame(p),p=0)};if(!s||!u||!a){let e=[];s||e.push("trigger"),u||e.push("menu"),a||e.push("popover"),console.error(`Dropdown menu initialisation failed. Missing element(s): ${e.join(", ")}`,t);return}let n=[],i=-1,r=(e=!0)=>{s.getAttribute("aria-expanded")!=="false"&&(s.setAttribute("aria-expanded","false"),s.removeAttribute("aria-activedescendant"),a.setAttribute("aria-hidden","true"),m&&a.matches(":popover-open")&&a.hidePopover(),e&&s.focus(),y(),h(-1))},l=(e=!1)=>{document.dispatchEvent(new CustomEvent("basecoat:popover",{detail:{source:t}})),s.setAttribute("aria-expanded","true"),a.setAttribute("aria-hidden","false"),m&&(a.showPopover(),v(),b()),n=Array.from(u.querySelectorAll('[role^="menuitem"]')).filter(c=>!c.hasAttribute("disabled")&&c.getAttribute("aria-disabled")!=="true"),n.length>0&&e&&(e==="first"?h(0):e==="last"&&h(n.length-1))},h=e=>{if(i>-1&&n[i]&&n[i].classList.remove("active"),i=e,i>-1&&n[i]){let c=n[i];c.classList.add("active"),s.setAttribute("aria-activedescendant",c.id)}else s.removeAttribute("aria-activedescendant")};s.addEventListener("click",()=>{s.getAttribute("aria-expanded")==="true"?r():l(!1)}),t.addEventListener("keydown",e=>{let c=s.getAttribute("aria-expanded")==="true";if(e.key==="Escape"){c&&r();return}if(!c){["Enter"," "].includes(e.key)?(e.preventDefault(),l(!1)):e.key==="ArrowDown"?(e.preventDefault(),l("first")):e.key==="ArrowUp"&&(e.preventDefault(),l("last"));return}if(n.length===0)return;let d=i;switch(e.key){case"ArrowDown":e.preventDefault(),d=i===-1?0:Math.min(i+1,n.length-1);break;case"ArrowUp":e.preventDefault(),d=i===-1?n.length-1:Math.max(i-1,0);break;case"Home":e.preventDefault(),d=0;break;case"End":e.preventDefault(),d=n.length-1;break;case"Enter":case" ":e.preventDefault(),n[i]?.click(),r();return}d!==i&&h(d)}),u.addEventListener("mousemove",e=>{let c=e.target.closest('[role^="menuitem"]');if(c&&n.includes(c)){let d=n.indexOf(c);d!==i&&h(d)}}),u.addEventListener("mouseleave",()=>{h(-1)}),u.addEventListener("click",e=>{e.target.closest('[role^="menuitem"]')&&r()}),document.addEventListener("click",e=>{t.contains(e.target)||r()}),document.addEventListener("basecoat:popover",e=>{e.detail.source!==t&&r(!1)}),t.dataset.dropdownMenuInitialized=!0,t.dispatchEvent(new CustomEvent("basecoat:initialized"))};window.basecoat&&window.basecoat.register("dropdown-menu",".dropdown-menu:not([data-dropdown-menu-initialized])",o)})();var f=document.getElementById("side-pane");if(!f)throw new Error("#side-pane not found");var P=document.getElementById("not-side-pane");if(!P)throw new Error("#not-side-pane not found");window.addEventListener("click",function(o){if(console.log("--------------------------------------------------------------------------------"),console.log("1"),!window.matchMedia("(min-width: 64rem)").matches&&(console.log("2"),!f.classList.contains("hidden"))){console.log("3");for(let t=o.target;t instanceof Element;t=t.parentElement)if(t.id=="side-pane"||t.hasAttribute("data-show-side-pane"))return;console.log("4"),f.classList.add("hidden")}});for(let o of document.querySelectorAll("[data-hide-side-pane]"))o.addEventListener("click",function(){f.classList.add("hidden")});for(let o of document.querySelectorAll("[data-show-side-pane]"))o.addEventListener("click",function(){f.classList.remove("hidden")});var k=document.getElementById("hamburger-menu-btn"),E=document.getElementById("hamburger-menu-icon"),D=document.getElementById("menu-pane"),x=document.getElementById("not-menu-pane");k&&E&&f&&x&&(k.addEventListener("click",function(){E.classList.contains("open")?(E.classList.remove("open"),f.classList.add("hidden")):(E.classList.add("open"),f.classList.remove("hidden"))}),x.addEventListener("click",function(){E.classList.contains("open")&&(E.classList.remove("open"),f.classList.add("hidden"))}));for(let o of document.querySelectorAll("[data-click-event-stop-propagation]"))o.addEventListener("click",function(t){t.stopPropagation()});for(let o of document.querySelectorAll("[data-dismiss-alert]"))o.addEventListener("click",function(){let t=o.parentElement;for(;t!=null;){if(t.getAttribute("role")!="alert"){t=t.parentElement;continue}t.style.transition="opacity 100ms linear",t.style.opacity="0",setTimeout(function(){t&&(t.style.display="none")},100);return}});for(let o of document.querySelectorAll("[data-go-back]"))o.tagName=="A"&&o.addEventListener("click",function(t){t instanceof PointerEvent&&document.referrer&&history.length>2&&!t.ctrlKey&&!t.metaKey&&(t.preventDefault(),history.back())});})();
